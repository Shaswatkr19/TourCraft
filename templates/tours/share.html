{% extends "base/base.html" %}
{% block title %}Share Tour{% endblock %}

{% block content %}
<div class="container py-5">
    <h1>Share Tour: {{ tour.title }}</h1>

    <p>Use the link below to share your tour:</p>
    <div class="input-group mb-3">
        <input type="text" class="form-control" value="{{ request.build_absolute_uri tour.get_public_url }}" id="tourLink" readonly>
        <button class="btn btn-outline-secondary" type="button" onclick="copyLink()">Copy</button>
    </div>

    <a href="{% url 'tours:preview' tour.id %}" class="btn btn-info">Preview Tour</a>
    <a href="{% url 'tours:list' %}" class="btn btn-secondary">Back to Tours</a>
</div>

<script>
function copyLink() {
    const copyText = document.getElementById("tourLink");
    copyText.select();
    copyText.setSelectionRange(0, 99999);
    document.execCommand("copy");
    alert("Link copied: " + copyText.value);
}
</script>
{% endblock %}